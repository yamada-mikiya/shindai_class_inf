# 神戸大学 授業情報スクレイピングスクリプト

## 概要

このプロジェクトは、神戸大学のシラバス検索システム（うりぼーネット）から授業情報を自動で収集（スクレイピング）するためのPythonスクリプトです。指定した年度の授業データを学部ごとに、月曜日から日曜日まですべて取得し、単一のCSVファイルに保存します。

## 主な機能

* **指定年度のデータ取得**: 取得したい授業の開講年度を指定できます。
* **自動ページ遷移**: 全ての学部ページを自動で巡回します。
* **曜日ごとのデータ収集**: 月曜日から日曜日（および集中講義など）までの各曜日の授業をすべて収集します。
* **ページネーション対応**: 複数ページにわたる授業リストも、自動で「次へ」ボタンをクリックして全件取得します。
* **学部フィルタリング**: `exclude_keywords` を設定することで、特定の学部（デフォルトでは「海事科学部」）を収集対象から除外できます。
* **CSV出力**: 収集した全データを `class_YYYY.csv`（YYYYは指定年度）という名前のCSVファイルにまとめて出力します。

## 必要なもの

実行には以下の環境が必要です。

* Python 3.x
* Jupyter Notebook または JupyterLab
* **Pythonライブラリ**:
    * `selenium`
    * `beautifulsoup4`
    * `unicodedata` (標準ライブラリ)
* **Webブラウザ**:
    * Google Chrome
* **WebDriver**:
    * インストール済みのGoogle Chromeのバージョンと一致する [ChromeDriver](https://googlechromelabs.github.io/chrome-for-testing/)

## 使い方

1.  **ライブラリのインストール**
    ターミナルやコマンドプロンプトで以下のコマンドを実行し、必要なライブラリをインストールします。
    ```bash
    pip install selenium beautifulsoup4
    ```

2.  **ChromeDriverの準備**
    お使いのGoogle Chromeのバージョンに合ったChromeDriverをダウンロードし、PC内の任意の場所に配置してください。

3.  **スクリプトの設定**
    `shindai_class_inf.ipynb` ファイルを開き、以下の部分を自分の環境に合わせて編集します。

    * **ChromeDriverのパス指定**（2番目のコードセル）:
        `"C:\\Users\\yamada\\...\\chromedriver.exe"` の部分を、先ほど配置した`chromedriver.exe`のフルパスに書き換えます。
        ```python
        # 例
        driver = webdriver.Chrome(r"C:\\path\\to\\your\\chromedriver.exe", options=options)
        ```

    * **開講年度の指定**（4番目のコードセル）:
        `year_attendance` の値を、データを取得したい年度（西暦）に設定します。
        ```python
        year_attendance = 2025 # 2025年度のデータを取得する場合
        ```

4.  **スクリプトの実行**
    Jupyter Notebookのセルを上から順番に実行してください。スクリプトはブラウザを自動操作（ヘッドレスモードのため画面には表示されません）し、進捗状況をターミナルに出力します。

## 出力されるファイル

スクリプトの実行が完了すると、`class_YYYY.csv` という名前のCSVファイルが生成されます。 このファイルには、ウェブサイトの表から取得した以下の情報が含まれています。

* 授業名
* 教員名
* 単位数
* 開講時期
* 対象年次
* など

(※列の具体的な内容は、収集時のウェブサイトのテーブル構造に依存します。)

## 注意事項

* このスクリプトは、神戸大学のシラバスシステム `https://kym22-web.ofc.kobe-u.ac.jp/campussy/` のHTML構造を基に作られています。ウェブサイトの仕様が変更された場合、スクリプトが正常に動作しなくなる可能性があります。
* 実行ログに「曜日リンクが見つかりませんでした」と表示されることがありますが、これは対象の学部・曜日に開講されている授業がないことを示す正常なメッセージです。
* 全学部のデータを収集するため、実行には数分程度の時間がかかります。
